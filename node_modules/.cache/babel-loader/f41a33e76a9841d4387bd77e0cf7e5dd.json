{"remainingRequest":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\pages\\inspector\\InspectorBoard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\pages\\inspector\\InspectorBoard.vue","mtime":1718946871104},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\babel.config.js","mtime":1718259580098},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\package.json","mtime":1718596960089},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718259582208},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1718259582042},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718259582208},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1718259593340}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG9uTW91bnRlZCwgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZUluc3BlY3RvclN0b3JlIH0gZnJvbSAnQC9zdG9yZXMvaW5zcGVjdG9yU3RvcmUnOwppbXBvcnQgeyBnZXRJbmZvTGlzdCB9IGZyb20gJ0AvYXBpL2luc3BlY3Rvcic7CmltcG9ydCB7IHVzZUxvY2F0aW9uU3RvcmUgfSBmcm9tICJAL3N0b3Jlcy9sb2NhdGlvblN0b3JlIjsKaW1wb3J0IHsgdXNlQVFJU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9hcWlMZXZlbFN0b3JlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbnNwZWN0b3JCb2FyZCcsCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzaG93Q29udGVudCA9IHJlZigndW5jb21wbGV0ZWQnKTsKICAgIGNvbnN0IGluc3BlY3RvclN0b3JlID0gdXNlSW5zcGVjdG9yU3RvcmUoKTsKICAgIGNvbnN0IGxvY2F0aW9uU3RvcmUgPSB1c2VMb2NhdGlvblN0b3JlKCk7CiAgICBjb25zdCBhcWlTdG9yZSA9IHVzZUFRSVN0b3JlKCk7CiAgICBjb25zdCBpbmZvTGlzdCA9IHJlZihbXSk7CiAgICBjb25zdCB1bmNvbXBsZXRlZEluZm9MaXN0ID0gcmVmKFtdKTsKICAgIGNvbnN0IGNvbXBsZXRlZEluZm9MaXN0ID0gcmVmKFtdKTsKICAgIGNvbnN0IHBhZ2VTaXplID0gcmVmKDEwKTsgLy8g5q+P6aG15pWw6YePCiAgICBjb25zdCB1bmNvbXBsZXRlZEN1cnJlbnRQYWdlID0gcmVmKDEpOyAvLyDlvZPliY3pobXnoIEKICAgIGNvbnN0IGNvbXBsZXRlZEN1cnJlbnRQYWdlID0gcmVmKDEpOyAvLyDlvZPliY3pobXnoIEKCiAgICBjb25zdCBmZXRjaEluZm9MaXN0ID0gYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGluc3BlY3RvckNvZGUgPSBpbnNwZWN0b3JTdG9yZS5pbnNwZWN0b3JDb2RlOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0SW5mb0xpc3QoaW5zcGVjdG9yQ29kZSk7IC8vIOWcqOiOt+WPluS/oeaBr+WIl+ihqOWQjuWkhOeQhuaVsOaNrgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIGluZm9MaXN0LnZhbHVlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgYXdhaXQgcHJvY2Vzc0luZm9MaXN0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBpbmZvIGxpc3Q6JywgcmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGZldGNoaW5nIGluZm8gbGlzdDonLCBlcnJvcik7CiAgICAgIH0KICAgIH07CgogICAgLy8g6K6h566X5YiG6aG15ZCO5pyq5a6M5oiQ5Lu75Yqh55qE5pWw5o2uCiAgICBjb25zdCBwYWdpbmF0ZWRVbmNvbXBsZXRlZExpc3QgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGNvbnN0IHN0YXJ0ID0gKHVuY29tcGxldGVkQ3VycmVudFBhZ2UudmFsdWUgLSAxKSAqIHBhZ2VTaXplLnZhbHVlOwogICAgICBjb25zdCBlbmQgPSBzdGFydCArIHBhZ2VTaXplLnZhbHVlOwogICAgICByZXR1cm4gdW5jb21wbGV0ZWRJbmZvTGlzdC52YWx1ZS5zbGljZShzdGFydCwgZW5kKTsKICAgIH0pOwoKICAgIC8vIOiuoeeul+WIhumhteWQjuW3suWujOaIkOS7u+WKoeeahOaVsOaNrgogICAgY29uc3QgcGFnaW5hdGVkQ29tcGxldGVkTGlzdCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3Qgc3RhcnQgPSAoY29tcGxldGVkQ3VycmVudFBhZ2UudmFsdWUgLSAxKSAqIHBhZ2VTaXplLnZhbHVlOwogICAgICBjb25zdCBlbmQgPSBzdGFydCArIHBhZ2VTaXplLnZhbHVlOwogICAgICByZXR1cm4gY29tcGxldGVkSW5mb0xpc3QudmFsdWUuc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICB9KTsKCiAgICAvLyDlsZXnpLrlvoXmo4DmtYvnmoTku7vliqHliJfooagKICAgIGNvbnN0IHNob3dVbmNvbXBsZXRlZCA9IGFzeW5jICgpID0+IHsKICAgICAgc2hvd0NvbnRlbnQudmFsdWUgPSAndW5jb21wbGV0ZWQnOwogICAgICBhd2FpdCBmZXRjaEluZm9MaXN0KCk7CiAgICB9OwoKICAgIC8vIOWxleekuuW3suWujOaIkOeahOS7u+WKoeWIl+ihqAogICAgY29uc3Qgc2hvd0NvbXBsZXRlZCA9IGFzeW5jICgpID0+IHsKICAgICAgc2hvd0NvbnRlbnQudmFsdWUgPSAnY29tcGxldGVkJzsKICAgICAgYXdhaXQgZmV0Y2hJbmZvTGlzdCgpOwogICAgfTsKCiAgICAvLyDojrflj5bnnIHku73kv6Hmga8KICAgIGNvbnN0IGdldFByb3ZpbmNlID0gYXN5bmMgY2l0eUNvZGUgPT4gewogICAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBsb2NhdGlvblN0b3JlLmdldFByb3ZpbmNlQnlDaXR5Q29kZShjaXR5Q29kZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBwcm92aW5jZTonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3ZpbmNlTmFtZTogJycKICAgICAgICB9OwogICAgICB9CiAgICB9OwoKICAgIC8vIOiOt+WPluWfjuW4guS/oeaBrwogICAgY29uc3QgZ2V0Q2l0eSA9IGFzeW5jIGNpdHlDb2RlID0+IHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gYXdhaXQgbG9jYXRpb25TdG9yZS5nZXRDaXR5QW5kUHJvdmluY2VCeUNpdHlDb2RlKGNpdHlDb2RlKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGNpdHk6JywgZXJyb3IpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjaXR5TmFtZTogJycKICAgICAgICB9OwogICAgICB9CiAgICB9OwoKICAgIC8vIOWkhOeQhuS7u+WKoeWIl+ihqO+8iOW+heajgOa1i+WSjOW3suWujOaIkCDku6Xlj4og55yB5Lu95Z+O5biC5L+h5oGv55qE6I635Y+W77yJCiAgICBjb25zdCBwcm9jZXNzSW5mb0xpc3QgPSBhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IGl0ZW1zID0gaW5mb0xpc3QudmFsdWU7CiAgICAgIGNvbnN0IHVuY29tcGxldGVkSXRlbXMgPSBbXTsKICAgICAgY29uc3QgY29tcGxldGVkSXRlbXMgPSBbXTsKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7CiAgICAgICAgY29uc3QgcHJvdmluY2UgPSBhd2FpdCBnZXRQcm92aW5jZShpdGVtLmNpdHlDb2RlKTsKICAgICAgICBjb25zdCBjaXR5ID0gYXdhaXQgZ2V0Q2l0eShpdGVtLmNpdHlDb2RlKTsKICAgICAgICBpZiAocHJvdmluY2UgJiYgY2l0eSkgewogICAgICAgICAgY29uc3QgcHJvY2Vzc2VkSXRlbSA9IHsKICAgICAgICAgICAgLi4uaXRlbSwKICAgICAgICAgICAgcHJvdmluY2U6IHByb3ZpbmNlLAogICAgICAgICAgICBjaXR5OiBjaXR5LAogICAgICAgICAgICBhcWlMZXZlbDogaXRlbS5hcWlMZXZlbCB8fCA3CiAgICAgICAgICB9OwogICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSAzKSB7CiAgICAgICAgICAgIGNvbXBsZXRlZEl0ZW1zLnB1c2gocHJvY2Vzc2VkSXRlbSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09PSAyKSB7CiAgICAgICAgICAgIHVuY29tcGxldGVkSXRlbXMucHVzaChwcm9jZXNzZWRJdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgY29tcGxldGVkSW5mb0xpc3QudmFsdWUgPSBjb21wbGV0ZWRJdGVtczsKICAgICAgdW5jb21wbGV0ZWRJbmZvTGlzdC52YWx1ZSA9IHVuY29tcGxldGVkSXRlbXM7CiAgICAgIHVwZGF0ZVBhZ2luYXRlZExpc3RzKCk7IC8vIOabtOaWsOWIhumhteaVsOaNrgogICAgfTsKCiAgICAvLyDmm7TmlrDliIbpobXlkI7nmoTku7vliqHliJfooagKICAgIGNvbnN0IHVwZGF0ZVBhZ2luYXRlZExpc3RzID0gKCkgPT4gewogICAgICBwYWdpbmF0ZWRVbmNvbXBsZXRlZExpc3QudmFsdWUgPSB1bmNvbXBsZXRlZEluZm9MaXN0LnZhbHVlLnNsaWNlKCh1bmNvbXBsZXRlZEN1cnJlbnRQYWdlLnZhbHVlIC0gMSkgKiBwYWdlU2l6ZS52YWx1ZSwgdW5jb21wbGV0ZWRDdXJyZW50UGFnZS52YWx1ZSAqIHBhZ2VTaXplLnZhbHVlKTsKICAgICAgcGFnaW5hdGVkQ29tcGxldGVkTGlzdC52YWx1ZSA9IGNvbXBsZXRlZEluZm9MaXN0LnZhbHVlLnNsaWNlKChjb21wbGV0ZWRDdXJyZW50UGFnZS52YWx1ZSAtIDEpICogcGFnZVNpemUudmFsdWUsIGNvbXBsZXRlZEN1cnJlbnRQYWdlLnZhbHVlICogcGFnZVNpemUudmFsdWUpOwogICAgfTsKCiAgICAvLyDojrflj5ZBUUnor6bmg4UKICAgIGNvbnN0IGdldEFRSURldGFpbCA9IGxldmVsID0+IHsKICAgICAgcmV0dXJuIGFxaVN0b3JlLmdldEFRSURldGFpbChsZXZlbCk7CiAgICB9OwoKICAgIC8vIOaYvuekuuacquWujOaIkOS7u+WKoeW6j+WPtwogICAgY29uc3QgaW5kZXhNZXRob2RVbmNvbXBsZXRlZCA9IGluZGV4ID0+IHsKICAgICAgcmV0dXJuICh1bmNvbXBsZXRlZEN1cnJlbnRQYWdlLnZhbHVlIC0gMSkgKiBwYWdlU2l6ZS52YWx1ZSArIGluZGV4ICsgMTsKICAgIH07CgogICAgLy8g5pi+56S65bey5a6M5oiQ5Lu75Yqh5bqP5Y+3CiAgICBjb25zdCBpbmRleE1ldGhvZENvbXBsZXRlZCA9IGluZGV4ID0+IHsKICAgICAgcmV0dXJuIChjb21wbGV0ZWRDdXJyZW50UGFnZS52YWx1ZSAtIDEpICogcGFnZVNpemUudmFsdWUgKyBpbmRleCArIDE7CiAgICB9OwoKICAgIC8vIOWkhOeQhuiPnOWNlemAieaLqeS6i+S7tgogICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gaW5kZXggPT4gewogICAgICBpZiAoaW5kZXggPT09ICcxJykgewogICAgICAgIHNob3dVbmNvbXBsZXRlZCgpOwogICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMicpIHsKICAgICAgICBzaG93Q29tcGxldGVkKCk7CiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09ICczJykgewogICAgICAgIHNob3dDb250ZW50LnZhbHVlID0gJ3Byb2ZpbGUnOwogICAgICB9CiAgICB9OwoKICAgIC8vIOWkhOeQhiAi5Y675qOA5rWLIiDmjInpkq7ngrnlh7vkuovku7YKICAgIGNvbnN0IGhhbmRsZUNoZWNrID0gcm93ID0+IHsKICAgICAgLy8g5Zyo6L+Z6YeM5omn6KGM5Y675qOA5rWL55qE6YC76L6RCiAgICB9OwoKICAgIC8vIOWkhOeQhiLpqbPlm54i5oyJ6ZKu54K55Ye75LqL5Lu2CiAgICBjb25zdCBoYW5kbGVSZWplY3QgPSByb3cgPT4gewogICAgICAvLyDlnKjov5nph4zmiafooYzpqbPlm57nmoTpgLvovpEKICAgIH07CgogICAgLy8g6aG156CB5Y+Y5YyW5aSE55CG5Ye95pWwCiAgICBjb25zdCBoYW5kbGVVbmNvbXBsZXRlZFBhZ2VDaGFuZ2UgPSBwYWdlID0+IHsKICAgICAgdW5jb21wbGV0ZWRDdXJyZW50UGFnZS52YWx1ZSA9IHBhZ2U7CiAgICAgIC8vIOmHjeaWsOiuoeeul+WIhumhteaVsOaNrgogICAgICB1cGRhdGVQYWdpbmF0ZWRMaXN0cygpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUNvbXBsZXRlZFBhZ2VDaGFuZ2UgPSBwYWdlID0+IHsKICAgICAgY29tcGxldGVkQ3VycmVudFBhZ2UudmFsdWUgPSBwYWdlOwogICAgICAvLyDph43mlrDorqHnrpfliIbpobXmlbDmja4KICAgICAgdXBkYXRlUGFnaW5hdGVkTGlzdHMoKTsKICAgIH07CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBsb2NhdGlvblN0b3JlLmluaXRMb2NhdGlvblN0b3JlKCk7CiAgICAgIGZldGNoSW5mb0xpc3QoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2hvd0NvbnRlbnQsCiAgICAgIHNob3dDb21wbGV0ZWQsCiAgICAgIHNob3dVbmNvbXBsZXRlZCwKICAgICAgaW5mb0xpc3QsCiAgICAgIHVuY29tcGxldGVkSW5mb0xpc3QsCiAgICAgIGNvbXBsZXRlZEluZm9MaXN0LAogICAgICBwYWdpbmF0ZWRVbmNvbXBsZXRlZExpc3QsCiAgICAgIHBhZ2luYXRlZENvbXBsZXRlZExpc3QsCiAgICAgIGdldFByb3ZpbmNlLAogICAgICBnZXRDaXR5LAogICAgICBnZXRBUUlEZXRhaWwsCiAgICAgIGluZGV4TWV0aG9kVW5jb21wbGV0ZWQsCiAgICAgIGluZGV4TWV0aG9kQ29tcGxldGVkLAogICAgICBoYW5kbGVDaGVjaywKICAgICAgaGFuZGxlUmVqZWN0LAogICAgICBoYW5kbGVTZWxlY3QsCiAgICAgIGhhbmRsZVVuY29tcGxldGVkUGFnZUNoYW5nZSwKICAgICAgaGFuZGxlQ29tcGxldGVkUGFnZUNoYW5nZSwKICAgICAgaW5zcGVjdG9yU3RvcmUsCiAgICAgIHBhZ2VTaXplLAogICAgICB1bmNvbXBsZXRlZEN1cnJlbnRQYWdlLAogICAgICBjb21wbGV0ZWRDdXJyZW50UGFnZQogICAgfTsKICB9Cn07"},{"version":3,"names":["onMounted","ref","computed","useInspectorStore","getInfoList","useLocationStore","useAQIStore","name","setup","showContent","inspectorStore","locationStore","aqiStore","infoList","uncompletedInfoList","completedInfoList","pageSize","uncompletedCurrentPage","completedCurrentPage","fetchInfoList","inspectorCode","response","data","code","value","processInfoList","console","error","message","paginatedUncompletedList","start","end","slice","paginatedCompletedList","showUncompleted","showCompleted","getProvince","cityCode","getProvinceByCityCode","provinceName","getCity","getCityAndProvinceByCityCode","cityName","items","uncompletedItems","completedItems","item","province","city","processedItem","aqiLevel","status","push","updatePaginatedLists","getAQIDetail","level","indexMethodUncompleted","index","indexMethodCompleted","handleSelect","handleCheck","row","handleReject","handleUncompletedPageChange","page","handleCompletedPageChange","initLocationStore"],"sources":["C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\pages\\inspector\\InspectorBoard.vue"],"sourcesContent":["<template>\r\n  <div class=\"common-layout\">\r\n    <el-container class=\"full-height\">\r\n      <el-header>\r\n        <el-row>\r\n          <el-col :span=\"21\">\r\n            <h5 class=\"mb-2\">网格员工作台</h5>\r\n          </el-col>\r\n          <el-col :span=\"3\" class=\"user-name\">\r\n            {{ inspectorStore.inspectorName }}\r\n          </el-col>\r\n        </el-row>\r\n      </el-header>\r\n      <el-container>\r\n        <el-aside width=\"220px\" class=\"menu-aside full-height\">\r\n          <el-menu\r\n              default-active=\"1\"\r\n              class=\"el-menu-vertical-demo\"\r\n              @select=\"handleSelect\"\r\n          >\r\n            <el-menu-item index=\"1\">\r\n              <el-icon><location /></el-icon>\r\n              <span>待处理任务</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"2\">\r\n              <el-icon><document /></el-icon>\r\n              <span>已完成任务</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"3\">\r\n              <el-icon><setting /></el-icon>\r\n              <span>个人信息</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </el-aside>\r\n        <el-main>\r\n          <div v-if=\"showContent === 'uncompleted'\" class=\"table-container\">\r\n            <el-table :data=\"paginatedUncompletedList\" :header-cell-style=\"{textAlign: 'center'}\" border\r\n                      height=\"590\" stripe style=\"width: 100%\" :row-style=\"{height: '0'}\">\r\n              <el-table-column type=\"index\" label=\"序号\" :index=\"indexMethodUncompleted\" align=\"center\" width=\"55\" />\r\n              <el-table-column label=\"省份\" align=\"center\" width=\"75\">\r\n                <template #default=\"{ row }\">\r\n                  <span>{{ row.province.provinceName }}</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"城市\" align=\"center\" width=\"75\">\r\n                <template #default=\"{ row }\">\r\n                  <span>{{ row.city.cityName }}</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"address\" label=\"地址\" align=\"center\" width=\"200\" />\r\n              <el-table-column label=\"AQI\" align=\"center\" width=\"85\">\r\n                <template #default=\"{ row }\">\r\n                  <div v-if=\"row.aqiLevel !== undefined && row.aqiLevel !== null\"\r\n                       class=\"aqi-box\"\r\n                       :style=\"{ background: getAQIDetail(row.aqiLevel)?.color }\">\r\n                    <span>{{ getAQIDetail(row.aqiLevel)?.name }}</span>\r\n                  </div>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"feedback\" label=\"反馈信息\" width=\"150\" />\r\n              <el-table-column prop=\"supervisorName\" label=\"公众监督员\" align=\"center\" width=\"95\" />\r\n              <el-table-column prop=\"timeSupervisor\" label=\"时间\" align=\"center\" width=\"170\" />\r\n              <el-table-column label=\"操作\" align=\"center\">\r\n                <template #default=\"{ row }\">\r\n                  <el-button size=\"small\" type=\"success\" @click=\"handleCheck(row)\">去检测</el-button>\r\n                  <el-button size=\"small\" type=\"danger\" @click=\"handleReject(row)\">驳回</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                v-if=\"uncompletedInfoList.length > pageSize\"\r\n                :current-page=\"uncompletedCurrentPage\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, prev, pager, next\"\r\n                :total=\"uncompletedInfoList.length\"\r\n                @current-change=\"handleUncompletedPageChange\"\r\n            />\r\n          </div>\r\n          <div v-else-if=\"showContent === 'completed'\" class=\"table-container\">\r\n            <el-table :data=\"paginatedCompletedList\" :header-cell-style=\"{textAlign: 'center'}\" border\r\n                      height=\"590\" stripe style=\"width: 100%\" :row-style=\"{height: '0'}\">\r\n              <el-table-column type=\"index\" label=\"序号\" :index=\"indexMethodCompleted\" align=\"center\" width=\"55\" />\r\n              <el-table-column label=\"省份\" align=\"center\" width=\"75\">\r\n                <template #default=\"{ row }\">\r\n                  <span>{{ row.province.provinceName }}</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"城市\" align=\"center\" width=\"75\">\r\n                <template #default=\"{ row }\">\r\n                  <span>{{ row.city.cityName }}</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"address\" label=\"地址\" align=\"center\"  width=\"220\" />\r\n              <el-table-column label=\"AQI\" align=\"center\"  width=\"85\">\r\n                <template #default=\"{ row }\">\r\n                  <div v-if=\"row.aqiLevel !== undefined && row.aqiLevel !== null\"\r\n                       class=\"aqi-box\"\r\n                       :style=\"{ background: getAQIDetail(row.aqiLevel)?.color }\">\r\n                    <span>{{ getAQIDetail(row.aqiLevel)?.name }}</span>\r\n                  </div>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"so2\" label=\"二氧化硫(SO2)浓度\" align=\"center\" width=\"95\" />\r\n              <el-table-column prop=\"co\" label=\"一氧化碳(CO)浓度\" align=\"center\" width=\"95\" />\r\n              <el-table-column prop=\"o3\" label=\"臭氧(O3)浓度\" align=\"center\" width=\"95\" />\r\n              <el-table-column prop=\"pm25\" label=\"PM2.5浓度\" align=\"center\" width=\"80\" />\r\n              <el-table-column prop=\"timeInspector\" label=\"检测时间\" align=\"center\" />\r\n            </el-table>\r\n            <!-- 分页控制 -->\r\n            <el-pagination\r\n                v-if=\"completedInfoList.length > pageSize\"\r\n                :current-page=\"completedCurrentPage\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, prev, pager, next\"\r\n                :total=\"completedInfoList.length\"\r\n                @current-change=\"handleCompletedPageChange\"\r\n            />\r\n          </div>\r\n          <div v-else-if=\"showContent === 'profile'\" class=\"profile-container\">\r\n            <h2>个人信息</h2>\r\n            <p>姓名: {{ inspectorStore.inspectorName }}</p>\r\n            <p>编号: {{ inspectorStore.inspectorCode }}</p>\r\n            <!-- 您可以在这里添加更多个人信息 -->\r\n          </div>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref, computed } from 'vue';\r\nimport { useInspectorStore } from '@/stores/inspectorStore';\r\nimport { getInfoList } from '@/api/inspector';\r\nimport { useLocationStore } from \"@/stores/locationStore\";\r\nimport { useAQIStore } from '@/stores/aqiLevelStore';\r\n\r\nexport default {\r\n  name: 'InspectorBoard',\r\n  setup() {\r\n    const showContent = ref('uncompleted');\r\n    const inspectorStore = useInspectorStore();\r\n    const locationStore = useLocationStore();\r\n    const aqiStore = useAQIStore();\r\n\r\n    const infoList = ref([]);\r\n    const uncompletedInfoList = ref([]);\r\n    const completedInfoList = ref([]);\r\n    const pageSize = ref(10); // 每页数量\r\n    const uncompletedCurrentPage = ref(1); // 当前页码\r\n    const completedCurrentPage = ref(1); // 当前页码\r\n\r\n    const fetchInfoList = async () => {\r\n      try {\r\n        const inspectorCode = inspectorStore.inspectorCode;\r\n        const response = await getInfoList(inspectorCode); // 在获取信息列表后处理数据\r\n        if (response.data.code === 0) {\r\n          infoList.value = response.data.data;\r\n          await processInfoList();\r\n        } else {\r\n          console.error('Failed to fetch info list:', response.data.message);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error during fetching info list:', error);\r\n      }\r\n    };\r\n\r\n    // 计算分页后未完成任务的数据\r\n    const paginatedUncompletedList = computed(() => {\r\n      const start = (uncompletedCurrentPage.value - 1) * pageSize.value;\r\n      const end = start + pageSize.value;\r\n      return uncompletedInfoList.value.slice(start, end);\r\n    });\r\n\r\n    // 计算分页后已完成任务的数据\r\n    const paginatedCompletedList = computed(() => {\r\n      const start = (completedCurrentPage.value - 1) * pageSize.value;\r\n      const end = start + pageSize.value;\r\n      return completedInfoList.value.slice(start, end);\r\n    });\r\n\r\n    // 展示待检测的任务列表\r\n    const showUncompleted = async () => {\r\n      showContent.value = 'uncompleted';\r\n      await fetchInfoList();\r\n    };\r\n\r\n    // 展示已完成的任务列表\r\n    const showCompleted = async () => {\r\n      showContent.value = 'completed';\r\n      await fetchInfoList();\r\n    };\r\n\r\n    // 获取省份信息\r\n    const getProvince = async (cityCode) => {\r\n      try {\r\n        return await locationStore.getProvinceByCityCode(cityCode);\r\n      } catch (error) {\r\n        console.error('Failed to get province:', error);\r\n        return { provinceName: '' };\r\n      }\r\n    }\r\n\r\n    // 获取城市信息\r\n    const getCity = async (cityCode) => {\r\n      try {\r\n        return await locationStore.getCityAndProvinceByCityCode(cityCode);\r\n      } catch (error) {\r\n        console.error('Failed to get city:', error);\r\n        return { cityName: '' };\r\n      }\r\n    }\r\n\r\n    // 处理任务列表（待检测和已完成 以及 省份城市信息的获取）\r\n    const processInfoList = async () => {\r\n      const items = infoList.value;\r\n      const uncompletedItems = [];\r\n      const completedItems = [];\r\n\r\n      for (const item of items) {\r\n        const province = await getProvince(item.cityCode);\r\n        const city = await getCity(item.cityCode);\r\n        if (province && city) {\r\n          const processedItem = {\r\n            ...item,\r\n            province: province,\r\n            city: city,\r\n            aqiLevel: item.aqiLevel || 7\r\n          };\r\n          if (item.status === 3) {\r\n            completedItems.push(processedItem);\r\n          } else if (item.status === 2) {\r\n            uncompletedItems.push(processedItem);\r\n          }\r\n        }\r\n      }\r\n      completedInfoList.value = completedItems;\r\n      uncompletedInfoList.value = uncompletedItems;\r\n      updatePaginatedLists(); // 更新分页数据\r\n    };\r\n\r\n    // 更新分页后的任务列表\r\n    const updatePaginatedLists = () => {\r\n      paginatedUncompletedList.value = uncompletedInfoList.value.slice(\r\n          (uncompletedCurrentPage.value - 1) * pageSize.value,\r\n          uncompletedCurrentPage.value * pageSize.value\r\n      );\r\n      paginatedCompletedList.value = completedInfoList.value.slice(\r\n          (completedCurrentPage.value - 1) * pageSize.value,\r\n          completedCurrentPage.value * pageSize.value\r\n      );\r\n    };\r\n\r\n    // 获取AQI详情\r\n    const getAQIDetail = (level) => {\r\n      return aqiStore.getAQIDetail(level);\r\n    }\r\n\r\n    // 显示未完成任务序号\r\n    const indexMethodUncompleted = (index) => {\r\n      return (uncompletedCurrentPage.value - 1) * pageSize.value + index + 1;\r\n    };\r\n\r\n    // 显示已完成任务序号\r\n    const indexMethodCompleted = (index) => {\r\n      return (completedCurrentPage.value - 1) * pageSize.value + index + 1;\r\n    };\r\n\r\n    // 处理菜单选择事件\r\n    const handleSelect = (index) => {\r\n      if (index === '1') {\r\n        showUncompleted();\r\n      } else if (index === '2') {\r\n        showCompleted();\r\n      } else if (index === '3') {\r\n        showContent.value = 'profile';\r\n      }\r\n    }\r\n\r\n    // 处理 \"去检测\" 按钮点击事件\r\n    const handleCheck = (row) => {\r\n      // 在这里执行去检测的逻辑\r\n    };\r\n\r\n    // 处理\"驳回\"按钮点击事件\r\n    const handleReject = (row) => {\r\n      // 在这里执行驳回的逻辑\r\n    }\r\n\r\n    // 页码变化处理函数\r\n    const handleUncompletedPageChange = (page) => {\r\n      uncompletedCurrentPage.value = page;\r\n      // 重新计算分页数据\r\n      updatePaginatedLists();\r\n    };\r\n\r\n    const handleCompletedPageChange = (page) => {\r\n      completedCurrentPage.value = page;\r\n      // 重新计算分页数据\r\n      updatePaginatedLists();\r\n    };\r\n\r\n    onMounted(() => {\r\n      locationStore.initLocationStore();\r\n      fetchInfoList();\r\n    });\r\n\r\n    return {\r\n      showContent,\r\n      showCompleted,\r\n      showUncompleted,\r\n      infoList,\r\n      uncompletedInfoList,\r\n      completedInfoList,\r\n      paginatedUncompletedList,\r\n      paginatedCompletedList,\r\n      getProvince,\r\n      getCity,\r\n      getAQIDetail,\r\n      indexMethodUncompleted,\r\n      indexMethodCompleted,\r\n      handleCheck,\r\n      handleReject,\r\n      handleSelect,\r\n      handleUncompletedPageChange,\r\n      handleCompletedPageChange,\r\n      inspectorStore,\r\n      pageSize,\r\n      uncompletedCurrentPage,\r\n      completedCurrentPage\r\n    };\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.full-height {\r\n  height: 100vh;\r\n}\r\n.common-layout {\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.menu-aside .el-menu {\r\n  height: 100%;\r\n}\r\n.menu-aside {\r\n  background-color: #20232A;\r\n}\r\n.user-name {\r\n  text-align: right;\r\n  line-height: 36px;\r\n  font-size: 16px;\r\n  color: white;\r\n}\r\n.table-container {\r\n  margin-top: 0;\r\n}\r\n.el-table th {\r\n  background-color: #f2f6fc;\r\n  color: #606266;\r\n  font-weight: bold;\r\n}\r\n.el-table td {\r\n  padding: 12px 8px;\r\n}\r\n.aqi-box {\r\n  width: 60px;\r\n  height: 30px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}