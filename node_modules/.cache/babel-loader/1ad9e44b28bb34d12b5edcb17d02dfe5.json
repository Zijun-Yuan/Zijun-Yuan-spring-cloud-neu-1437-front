{"remainingRequest":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\stores\\inspectorStore.js","dependencies":[{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\stores\\inspectorStore.js","mtime":1720581399110},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\babel.config.js","mtime":1718259580098},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\package.json","mtime":1718596960089},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718259582208},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1718259582042}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tICdwaW5pYSc7CmltcG9ydCAqIGFzIGluc3BlY3RvckFQSSBmcm9tICdAL2FwaS9pbnNwZWN0b3IuanMnOwppbXBvcnQgYXBpQ2xpZW50IGZyb20gIkAvYXBpL2F4aW9zIjsKZXhwb3J0IGNvbnN0IHVzZUluc3BlY3RvclN0b3JlID0gZGVmaW5lU3RvcmUoJ2luc3BlY3RvcicsIHsKICBzdGF0ZTogKCkgPT4gKHsKICAgIHRva2VuOiAnJywKICAgIGluc3BlY3RvcklkOiAnJywKICAgIGluc3BlY3RvckNvZGU6ICcnLAogICAgdGVsTnVtOiAnJywKICAgIHJlYWxOYW1lOiAnJywKICAgIGNpdHlDb2RlOiAnJwogIH0pLAogIGFjdGlvbnM6IHsKICAgIHNldFRva2VuKHRva2VuKSB7CiAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjsKICAgICAgYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogICAgICAgIGlmICh0aGlzLnRva2VuKSB7CiAgICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3RoaXMudG9rZW59YDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvbmZpZzsKICAgICAgfSwgZXJyb3IgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKICAgIH0sCiAgICBhc3luYyBpbnNwZWN0b3JMb2dpbihkYXRhKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnNwZWN0b3JBUEkubG9naW4oZGF0YSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5sb2coJ0xvZ2luIHN1Y2Nlc3NmdWwsIHJlc3BvbnNlIGRhdGE6JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB0aGlzLmluc3BlY3RvckNvZGUgPSBkYXRhLmluc3BlY3RvckNvZGU7CiAgICAgICAgICB0aGlzLmluc3BlY3RvcklkID0gcmVzcG9uc2UuZGF0YS5kYXRhLmluc3BlY3RvcklkOwogICAgICAgICAgdGhpcy50ZWxOdW0gPSByZXNwb25zZS5kYXRhLmRhdGEudGVsTnVtOwogICAgICAgICAgdGhpcy5yZWFsTmFtZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5yZWFsTmFtZTsKICAgICAgICAgIHRoaXMuY2l0eUNvZGUgPSByZXNwb25zZS5kYXRhLmRhdGEuY2l0eUNvZGU7CiAgICAgICAgICB0aGlzLnNldFRva2VuKHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBmYWlsZWQsIHJlc3BvbnNlIGRhdGE6JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBsb2dpbjonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBnZXRUb2tlbigpIHsKICAgICAgcmV0dXJuIHRoaXMudG9rZW47CiAgICB9LAogICAgbG9nb3V0KCkgewogICAgICB0aGlzLnRva2VuID0gJyc7CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["defineStore","inspectorAPI","apiClient","useInspectorStore","state","token","inspectorId","inspectorCode","telNum","realName","cityCode","actions","setToken","interceptors","request","use","config","headers","Authorization","error","Promise","reject","inspectorLogin","data","response","login","code","console","log","getToken","logout"],"sources":["C:/Users/ydc/Documents/HBuilderProjects/neu-training-front/src/stores/inspectorStore.js"],"sourcesContent":["import {\r\n    defineStore\r\n} from 'pinia';\r\nimport * as inspectorAPI from '@/api/inspector.js';\r\nimport apiClient from \"@/api/axios\";\r\n\r\nexport const useInspectorStore = defineStore('inspector', {\r\n    state: () => ({\r\n        token: '',\r\n        inspectorId: '',\r\n        inspectorCode: '',\r\n        telNum: '',\r\n        realName: '',\r\n        cityCode: ''\r\n    }),\r\n    actions: {\r\n\t\tsetToken(token) {\r\n\t\t\tthis.token = token;\r\n\t\t\tapiClient.interceptors.request.use(\r\n\t\t\t\tconfig => {\r\n\t\t\t\t\tif (this.token) {\r\n\t\t\t\t\t\tconfig.headers.Authorization = `Bearer ${this.token}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn config;\r\n\t\t\t\t},\r\n\t\t\t\terror => Promise.reject(error)\r\n\t\t\t);\r\n\t\t},\r\n        async inspectorLogin(data) {\r\n            try {\r\n                const response = await inspectorAPI.login(data);\r\n                if (response.data.code === 0) {\r\n                    console.log('Login successful, response data:', response.data);\r\n                    this.inspectorCode = data.inspectorCode;\r\n                    this.inspectorId = response.data.data.inspectorId;\r\n                    this.telNum = response.data.data.telNum;\r\n                    this.realName = response.data.data.realName;\r\n                    this.cityCode = response.data.data.cityCode;\r\n                    this.setToken(response.data.data.token);\r\n                } else {\r\n                    console.log('Login failed, response data:', response.data);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error during login:', error);\r\n            }\r\n        },\r\n        getToken() {\r\n            return this.token;\r\n        },\r\n        logout() {\r\n            this.token = '';\r\n        },\r\n    }\r\n});"],"mappings":"AAAA,SACIA,WAAW,QACR,OAAO;AACd,OAAO,KAAKC,YAAY,MAAM,oBAAoB;AAClD,OAAOC,SAAS,MAAM,aAAa;AAEnC,OAAO,MAAMC,iBAAiB,GAAGH,WAAW,CAAC,WAAW,EAAE;EACtDI,KAAK,EAAEA,CAAA,MAAO;IACVC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,EAAE;IACfC,aAAa,EAAE,EAAE;IACjBC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACd,CAAC,CAAC;EACFC,OAAO,EAAE;IACXC,QAAQA,CAACP,KAAK,EAAE;MACf,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClBH,SAAS,CAACW,YAAY,CAACC,OAAO,CAACC,GAAG,CACjCC,MAAM,IAAI;QACT,IAAI,IAAI,CAACX,KAAK,EAAE;UACfW,MAAM,CAACC,OAAO,CAACC,aAAa,GAAG,UAAU,IAAI,CAACb,KAAK,EAAE;QACtD;QACA,OAAOW,MAAM;MACd,CAAC,EACDG,KAAK,IAAIC,OAAO,CAACC,MAAM,CAACF,KAAK,CAC9B,CAAC;IACF,CAAC;IACK,MAAMG,cAAcA,CAACC,IAAI,EAAE;MACvB,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMvB,YAAY,CAACwB,KAAK,CAACF,IAAI,CAAC;QAC/C,IAAIC,QAAQ,CAACD,IAAI,CAACG,IAAI,KAAK,CAAC,EAAE;UAC1BC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEJ,QAAQ,CAACD,IAAI,CAAC;UAC9D,IAAI,CAAChB,aAAa,GAAGgB,IAAI,CAAChB,aAAa;UACvC,IAAI,CAACD,WAAW,GAAGkB,QAAQ,CAACD,IAAI,CAACA,IAAI,CAACjB,WAAW;UACjD,IAAI,CAACE,MAAM,GAAGgB,QAAQ,CAACD,IAAI,CAACA,IAAI,CAACf,MAAM;UACvC,IAAI,CAACC,QAAQ,GAAGe,QAAQ,CAACD,IAAI,CAACA,IAAI,CAACd,QAAQ;UAC3C,IAAI,CAACC,QAAQ,GAAGc,QAAQ,CAACD,IAAI,CAACA,IAAI,CAACb,QAAQ;UAC3C,IAAI,CAACE,QAAQ,CAACY,QAAQ,CAACD,IAAI,CAACA,IAAI,CAAClB,KAAK,CAAC;QAC3C,CAAC,MAAM;UACHsB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEJ,QAAQ,CAACD,IAAI,CAAC;QAC9D;MACJ,CAAC,CAAC,OAAOJ,KAAK,EAAE;QACZQ,OAAO,CAACR,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC/C;IACJ,CAAC;IACDU,QAAQA,CAAA,EAAG;MACP,OAAO,IAAI,CAACxB,KAAK;IACrB,CAAC;IACDyB,MAAMA,CAAA,EAAG;MACL,IAAI,CAACzB,KAAK,GAAG,EAAE;IACnB;EACJ;AACJ,CAAC,CAAC","ignoreList":[]}]}