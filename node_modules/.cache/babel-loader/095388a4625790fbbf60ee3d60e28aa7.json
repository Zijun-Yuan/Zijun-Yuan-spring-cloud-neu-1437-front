{"remainingRequest":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\stores\\adminStore.js","dependencies":[{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\src\\stores\\adminStore.js","mtime":1718264178013},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\babel.config.js","mtime":1718259580098},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\package.json","mtime":1718259865459},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718259582208},{"path":"C:\\Users\\ydc\\Documents\\HBuilderProjects\\neu-training-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1718259582042}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovLyBzcmMvc3RvcmVzL2FkbWluU3RvcmUuanMKaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tICdwaW5pYSc7CmltcG9ydCB7IGFkbWluTG9naW4gfSBmcm9tICdAL2FwaS9hZG1pbic7CmV4cG9ydCBjb25zdCB1c2VBZG1pblN0b3JlID0gZGVmaW5lU3RvcmUoJ2FkbWluJywgewogIHN0YXRlOiAoKSA9PiAoewogICAgdG9rZW46ICcnLAogICAgYWRtaW5Db2RlOiAnJywKICAgIHBhc3N3b3JkOiAnJwogIH0pLAogIGFjdGlvbnM6IHsKICAgIHNldFRva2VuKHRva2VuKSB7CiAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBzZXRBZG1pbkNvZGUoYWRtaW5Db2RlKSB7CiAgICAgIHRoaXMuYWRtaW5Db2RlID0gYWRtaW5Db2RlOwogICAgfSwKICAgIHNldFBhc3N3b3JkKHBhc3N3b3JkKSB7CiAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgIH0sCiAgICBhc3luYyBsb2dpbihhZG1pbkNvZGUsIHBhc3N3b3JkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6LCD55SoIEFQSQogICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbjonLCBhZG1pbkNvZGUsIHBhc3N3b3JkKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFkbWluTG9naW4oewogICAgICAgICAgYWRtaW5Db2RlLAogICAgICAgICAgcGFzc3dvcmQKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICB0aGlzLnNldFRva2VuKHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgICB0aGlzLnNldEFkbWluQ29kZShhZG1pbkNvZGUpOwogICAgICAgICAgdGhpcy5zZXRQYXNzd29yZChwYXNzd29yZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBmYWlsZWQ6JywgZXJyb3IpOwogICAgICAgIHRocm93IGVycm9yOwogICAgICB9CiAgICB9LAogICAgbG9nb3V0KCkgewogICAgICB0aGlzLnRva2VuID0gJyc7CiAgICAgIHRoaXMuYWRtaW5Db2RlID0gJyc7CiAgICAgIHRoaXMucGFzc3dvcmQgPSAnJzsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["defineStore","adminLogin","useAdminStore","state","token","adminCode","password","actions","setToken","setAdminCode","setPassword","login","console","log","response","data","code","Error","message","error","logout"],"sources":["C:/Users/ydc/Documents/HBuilderProjects/neu-training-front/src/stores/adminStore.js"],"sourcesContent":["// src/stores/adminStore.js\nimport { defineStore } from 'pinia';\nimport { adminLogin } from '@/api/admin';\n\nexport const useAdminStore = defineStore('admin', {\n  state: () => ({\n    token: '',\n    adminCode: '',\n    password: ''\n  }),\n  actions: {\n    setToken(token) {\n      this.token = token;\n    },\n    setAdminCode(adminCode) {\n      this.adminCode = adminCode;\n    },\n    setPassword(password) {\n      this.password = password;\n    },\n    async login(adminCode, password) {\n      try {\n        // 调用 API\r\n\t\tconsole.log('Login:', adminCode,password);\n        const response = await adminLogin({ adminCode, password });\n        if (response.data.code === 0) {\n          this.setToken(response.data.data.token);\n          this.setAdminCode(adminCode);\n          this.setPassword(password);\n        } else {\n          throw new Error(response.data.message);\n        }\n      } catch (error) {\n        console.error('Login failed:', error);\n        throw error;\n      }\n    },\n    logout() {\n      this.token = '';\n      this.adminCode = '';\n      this.password = '';\n    }\n  }\n});\n"],"mappings":";AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,UAAU,QAAQ,aAAa;AAExC,OAAO,MAAMC,aAAa,GAAGF,WAAW,CAAC,OAAO,EAAE;EAChDG,KAAK,EAAEA,CAAA,MAAO;IACZC,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACFC,OAAO,EAAE;IACPC,QAAQA,CAACJ,KAAK,EAAE;MACd,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC;IACDK,YAAYA,CAACJ,SAAS,EAAE;MACtB,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC;IACDK,WAAWA,CAACJ,QAAQ,EAAE;MACpB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC;IACD,MAAMK,KAAKA,CAACN,SAAS,EAAEC,QAAQ,EAAE;MAC/B,IAAI;QACF;QACNM,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAER,SAAS,EAACC,QAAQ,CAAC;QACnC,MAAMQ,QAAQ,GAAG,MAAMb,UAAU,CAAC;UAAEI,SAAS;UAAEC;QAAS,CAAC,CAAC;QAC1D,IAAIQ,QAAQ,CAACC,IAAI,CAACC,IAAI,KAAK,CAAC,EAAE;UAC5B,IAAI,CAACR,QAAQ,CAACM,QAAQ,CAACC,IAAI,CAACA,IAAI,CAACX,KAAK,CAAC;UACvC,IAAI,CAACK,YAAY,CAACJ,SAAS,CAAC;UAC5B,IAAI,CAACK,WAAW,CAACJ,QAAQ,CAAC;QAC5B,CAAC,MAAM;UACL,MAAM,IAAIW,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACG,OAAO,CAAC;QACxC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdP,OAAO,CAACO,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,MAAMA,KAAK;MACb;IACF,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,IAAI,CAAChB,KAAK,GAAG,EAAE;MACf,IAAI,CAACC,SAAS,GAAG,EAAE;MACnB,IAAI,CAACC,QAAQ,GAAG,EAAE;IACpB;EACF;AACF,CAAC,CAAC","ignoreList":[]}]}